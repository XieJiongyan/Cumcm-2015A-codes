N=31+28+31+30+31+30+31+31+30+22;
b=2*pi*(N-1)/365.2422;
delta=asin(0.39795*cos(0.98563*(N-173)*pi/180));
fai=([0:3:60])*pi/180;
t=12;
tl=t-8+(116+23/60+29/3600)/15;
td=(tl-12).*pi./12;
h=asin(sin(fai).*sin(delta)+...
    cos(fai).*cos(delta).*cos(td));
L=3;
d=L./tan(h);
plot(fai*180/pi,d)