N=31+28+31+30+31+30+31+31+30+22;
delta=asin(0.39795*cos(0.98563*(N-173)*pi/180)); %计算赤纬角
fai=(39+54/60+26/3600)*pi/180;
t=9:0.25:15;
tl=t-8+(116+23/60+29/3600)/15;
td=(tl-12).*pi./12; %计算时角
h=asin(sin(fai)*sin(delta)+...
    cos(fai)*cos(delta)*cos(td));%计算太阳高度角
L=3;
d=L./tan(h); %计算阴影长度